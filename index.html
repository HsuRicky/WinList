<!DOCTYPE html>
<html lang="en">

    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"> -->

        <link rel="stylesheet" href="/static/css/style.css">
    </head>

    <body>
        <div class="index-section" id="first-div">
            <div class="FitLayout">
                <div>
                    <div class="index-goal">
                        <div class="index-goal-border">
                            <div class="index-goal-content">
                                <div class="index-ranking-wrapper">
                                    <div class="today-icon">
                                        <div class="web_view">
                                            <p>Ranking D&amp;T </p>
                                        </div>
                                        <div class="mob_view"><img src="https://download.ocms365.com/v3/jla/mem/img/today-icon_6c0ab17.png" alt="RANKING">
                                            <p>Ranking D&amp;T </p>
                                        </div>
                                    </div>
                                    <ul class="ranking-grid">
                                        <li class="dragon">
                                            <div></div>
                                            <div class="ranking-img">
                                                <div class="game-img"><img src="https://download.ocms365.com/v2/common/JILI/PlatformGameList.12259_3?version=0"></div>
                                            </div>
                                            <ul>
                                                <li class="winner">
                                                    <div class="player">s*e*l*s****</div>
                                                    <div class="score">83750.00</div>
                                                </li>
                                                <div class="ranking-winner-img"></div>
                                            </ul>
                                        </li>
                                        <li class="tiger">
                                            <div></div>
                                            <div class="ranking-img">
                                                <div class="game-img"><img src="https://download.ocms365.com/v2/common/JDB/PlatformGameList.16_3?version=0"></div>
                                            </div>
                                            <ul>
                                                <li class="winner">
                                                    <div class="player">g*e*n*n*r*s***</div>
                                                    <div class="score">926.00</div>
                                                </li>
                                                <div class="ranking-winner-img"></div>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                                <div class="winner-list-wrapper" data_vue_tag="WinListWrapper">
                                    <h3 class="index-title"><b>WIN</b><span>LIST</span></h3>
                                    <div class="win-news-width">
                                        <div class="win-news-scroll">
                                            <ul style="transform: translateY(-1915px);">
                                                <li class="animate" style="transform: translateY(0px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/FC/PlatformGameList.30473_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>c*m*r*a***</span>at<span title="COWBOYS">COWBOYS</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 5650.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(96px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/JILI/PlatformGameList.30815_3?version=1"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>0*2*1*8****</span>at<span title="Fortune Gems">Fortune Gems</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 7925.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(192px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/FC/PlatformGameList.30473_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>c*m*r*a***</span>at<span title="COWBOYS">COWBOYS</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 7200.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(288px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/JILI/PlatformGameList.12259_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>m*a***</span>at<span title="Super Ace">Super Ace</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 4862.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(384px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/JILI/PlatformGameList.12259_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>a*z****</span>at<span title="Super Ace">Super Ace</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 9660.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(480px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/JILI/PlatformGameList.12259_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>d*l*r*i***</span>at<span title="Super Ace">Super Ace</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 3340.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(576px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/JILI/PlatformGameList.12259_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>a*z****</span>at<span title="Super Ace">Super Ace</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 3760.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(672px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/PGV2/PlatformGameList.32614_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>v*a*i*i*y***</span>at<span title="Lucky Neko">Lucky Neko</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 4000.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(768px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/JILI/PlatformGameList.12259_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>a*z****</span>at<span title="Super Ace">Super Ace</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 6360.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(864px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/JILI/PlatformGameList.12259_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>a*z****</span>at<span title="Super Ace">Super Ace</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 3690.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(960px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/FC/PlatformGameList.31588_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>0*5*2*8****</span>at<span title="Robin Hood">Robin Hood</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 5000.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(1056px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/FC/PlatformGameList.33328_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>j*o*n****</span>at<span title="SUPER ELEMENTS">SUPER ELEMENTS</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 10176.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(1152px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/R88/PlatformGameList.31616_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>a*z****</span>at<span title="SuperAce">SuperAce</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 26100.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(1248px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/R88/PlatformGameList.31616_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>a*z****</span>at<span title="SuperAce">SuperAce</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 17540.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(1344px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/PGV2/PlatformGameList.32620_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>j*r*c*x****</span>at<span title="Wild Bounty Showdown">Wild Bounty Showdown</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 5760.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(1440px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/JILI/PlatformGameList.12259_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>0*2*1***</span>at<span title="Super Ace">Super Ace</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 4065.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(1536px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/PGV2/PlatformGameList.32614_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>v*a*i*i*y***</span>at<span title="Lucky Neko">Lucky Neko</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 3200.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(1630px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/PGV2/PlatformGameList.32614_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>v*a*i*i*y***</span>at<span title="Lucky Neko">Lucky Neko</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 4800.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(1724px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/JILI/PlatformGameList.10457_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>f*a*c*s*l*a*2***</span>at<span title="Crazy777">Crazy777</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 3210.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li class="animate" style="transform: translateY(1820px);">
                                                    <div class="winner-block">
                                                        <div class="winner-img">
                                                            <div class="game-img"><img src="https://download.ocms365.com/v2/common/PGV2/PlatformGameList.32614_3?version=0"></div>
                                                        </div>
                                                        <div class="winner-article">
                                                            <div>
                                                                <ul class="winner-grid">
                                                                    <li><span>v*a*i*i*y***</span>at<span title="Lucky Neko">Lucky Neko</span></li>
                                                                    <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ 4480.00</span></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script>
        var winListContainer, winListUl, n, winnerBlockHeight, totalWinners, currentIndex, newTransform;

        let winScroll = function () {
            currentIndex = (currentIndex - 1 + totalWinners) % totalWinners;
            newTransform = -currentIndex * winnerBlockHeight + 35;

            winListUl.style.transition = 'transform 1s ease-in-out';
            winListUl.style.transform = 'translateY(' + newTransform + 'px)';


            // Reset transition and transform when reaching the first winner
            if (currentIndex === 0) {
                setTimeout(function () {
                    /*winListUl.style.transition = 'none';
                    winListUl.style.transform = 'translateY(' + (-totalWinners + 1) * winnerBlockHeight + 'px)';
                    console.log(winListUl.style.transform)*/
                    currentIndex = totalWinners - 1;
                }, 2000);
            }
        };

        // 輪播
        document.addEventListener('DOMContentLoaded', function () {
            n = 1 // 每次滾動倍率
            if (screen.width < 768) {
                n = 0.99  // for i14 pro max
            } else {
                n = 1.05  // for pc 
            }
            console.log(screen.width, n)

            winListContainer = document.querySelector('.win-news-scroll');
            winListUl = document.querySelector('.win-news-scroll ul');

            winnerBlockHeight = winListUl.firstElementChild.offsetHeight * n;

            totalWinners = winListUl.children.length;

            console.log("winnerBlockHeight", winnerBlockHeight, "totalWinners", totalWinners);

            winListUl.style.transform = 'translateY(' + (totalWinners - 1) * winnerBlockHeight + 'px)';  // 初始位置
            console.log(winListUl.style.transform)
            currentIndex = totalWinners - 1;

            winScroll();
            setInterval(function () {
                winScroll()
            }, 2000);
        });


    </script>

    <script>
        // 抓money檔案
        const moneyJsonFileList = [
            'money0',
            'money2',
            'money4',
        ];
        const moneyjsonFileName = moneyJsonFileList[Math.floor(Math.random() * moneyJsonFileList.length)];
        const moneyjsonFilePath = `static/json/${moneyjsonFileName}.json`;

        // 抓輪播隨機資料
        document.addEventListener('DOMContentLoaded', function () {
            fetch(moneyjsonFilePath)
                .then(response => response.json())
                .then(data => {
                    // Shuffle the data array
                    const shuffledData = shuffleArray(data.data);

                    // Select the ul element
                    const winListUl = document.querySelector('.win-news-scroll ul');

                    winListUl.innerHTML = '';

                    // Iterate through the first 20 shuffled entries and create li elements
                    shuffledData.slice(0, 20).forEach((entry, index) => {
                        const liElement = document.createElement('li');
                        liElement.className = 'animate';

                        const translateYValue = index * 100;
                        liElement.style.transform = `translateY(${translateYValue}px)`;

                        liElement.innerHTML = `
                            <div class="winner-block">
                                <div class="winner-img">
                                    <div class="game-img"><img src="${entry.imgUrl}"></div>
                                </div>
                                <div class="winner-article">
                                    <div>
                                        <ul class="winner-grid">
                                            <li><span>${entry.username}</span>at<span title="${entry.gameType}">${entry.gameType}</span></li>
                                            <li class="win-prize"><span class="jackpot-win">won</span><span class="win-total">$ ${parseFloat(entry.highScore).toFixed(2)}</span></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        `;

                        winListUl.appendChild(liElement);
                    });
                })
                .catch(error => console.error('Error fetching JSON:', error));
        });

        // Function to shuffle an array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    </script>

    <script>
        // 抓最高1
        document.addEventListener('DOMContentLoaded', function () {
            fetch(moneyjsonFilePath)
                .then(response => response.json()) // 解析 JSON
                .then(data => {
                    const firstData = data.data[0];

                    // 在這裡可以使用 firstData 的其他操作，例如取得其中的屬性值
                    const username = firstData.username;
                    const highScore = firstData.highScore;
                    const imgUrl = firstData.imgUrl;

                    // 範例：將資料應用到 HTML 元素上
                    const playerNameElement = document.querySelector('.player');
                    const scoreElement = document.querySelector('.score');
                    const gameImgElement = document.querySelector('.game-img img');

                    playerNameElement.textContent = username;
                    scoreElement.textContent = parseFloat(highScore).toFixed(2);;
                    gameImgElement.src = imgUrl;

                    const liElement = document.createElement('li');
                    liElement.className = 'dragon';

                    liElement.innerHTML = `
                        <div></div>
                        <div class="ranking-img">
                            <div class="game-img"><img src="${firstData.imgUrl}"></div>
                        </div>
                        <ul>
                            <li class="winner">
                                <div class="player">${firstData.username}</div>
                                <div class="score">${firstData.highScore}</div>
                            </li>
                            <div class="ranking-winner-img"></div>
                        </ul>
                    `;
                })
                .catch(error => {
                    console.error('讀取 JSON 檔案時發生錯誤：', error);
                });
        });
    </script>

    <script>
        // 抓最高2
        const creditJsonFileList = [
            'credit0',
            'credit2',
            'credit4',
        ];
        const creditJsonFileName = creditJsonFileList[Math.floor(Math.random() * creditJsonFileList.length)];
        const creditjsonFilePath = `static/json/${creditJsonFileName}.json`;

        document.addEventListener('DOMContentLoaded', function () {
            fetch(creditjsonFilePath)
                .then(response => response.json()) // 解析 JSON
                .then(data => {
                    const highestScoreEntry = data.data[0];

                    // 在這裡可以使用 firstData 的其他操作，例如取得其中的屬性值
                    const username = highestScoreEntry.username;
                    const highScore = highestScoreEntry.highScore;
                    const imgUrl = highestScoreEntry.imgUrl;

                    // 範例：將資料應用到 HTML 元素上
                    const playerNameElement = document.querySelectorAll('.player')[1];
                    const scoreElement = document.querySelectorAll('.score')[1];
                    const gameImgElement = document.querySelectorAll('.game-img img')[1];

                    playerNameElement.textContent = username;
                    scoreElement.textContent = parseFloat(highScore).toFixed(2);
                    gameImgElement.src = imgUrl;

                    const liElement = document.createElement('li');
                    liElement.className = 'tiger';

                    liElement.innerHTML = `
                        <div></div>
                        <div class="ranking-img">
                            <div class="game-img"><img src="${highestScoreEntry.imgUrl}"></div>
                        </div>
                        <ul>
                            <li class="winner">
                                <div class="player">${highestScoreEntry.username}</div>
                                <div class="score">${highestScoreEntry.highScore}</div>
                            </li>
                            <div class="ranking-winner-img"></div>
                        </ul>
                    `;
                })
                .catch(error => {
                    console.error('讀取 JSON 檔案時發生錯誤：', error);
                });
        });
    </script>

    <script src="/static/js/snowflakes.js"></script>

</html>